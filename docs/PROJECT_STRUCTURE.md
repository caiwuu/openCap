# é¡¹ç›®ç›®å½•ç»“æ„è¯´æ˜

## ğŸ“ é‡æ„åçš„ç›®å½•ç»“æ„

```
jietu/
â”œâ”€â”€ include/jietu/          # å¤´æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ MacWindowLevel.h
â”‚   â”œâ”€â”€ ScreenshotApp.h
â”‚   â”œâ”€â”€ ScreenshotOverlay.h
â”‚   â”œâ”€â”€ ScreenshotRenderer.h
â”‚   â””â”€â”€ SystemTray.h
â”œâ”€â”€ src/                    # æºæ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ MacWindowLevel.mm
â”‚   â”œâ”€â”€ ScreenshotApp.cpp
â”‚   â”œâ”€â”€ ScreenshotOverlay.cpp
â”‚   â”œâ”€â”€ ScreenshotRenderer.cpp
â”‚   â”œâ”€â”€ SystemTray.cpp
â”‚   â””â”€â”€ main.cpp
â”œâ”€â”€ docs/                   # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ PERFORMANCE_OPTIMIZATION.md
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ USAGE.md
â”‚   â””â”€â”€ PROJECT_STRUCTURE.md
â”œâ”€â”€ scripts/                # è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ start_jietu.sh
â”‚   â””â”€â”€ test_jietu.sh
â”œâ”€â”€ build/                  # æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ CMakeLists.txt          # CMakeæ„å»ºé…ç½®
â””â”€â”€ Info.plist             # macOSåº”ç”¨é…ç½®
```

## âœ¨ é‡æ„çš„ä¼˜åŠ¿

### 1. **æ¸…æ™°çš„æ¥å£åˆ†ç¦»**
- **å¤´æ–‡ä»¶** (`include/jietu/`): å®šä¹‰ç±»çš„æ¥å£å’Œå…¬å…±API
- **æºæ–‡ä»¶** (`src/`): å®ç°å…·ä½“åŠŸèƒ½ï¼Œéšè—å®ç°ç»†èŠ‚

### 2. **å‘½åç©ºé—´å¼çš„å¤´æ–‡ä»¶ç»„ç»‡**
- ä½¿ç”¨ `jietu/` å­ç›®å½•é¿å…å¤´æ–‡ä»¶åå†²çª
- åœ¨æºæ–‡ä»¶ä¸­ä½¿ç”¨ `#include "jietu/ClassName.h"` å½¢å¼

### 3. **ç¬¦åˆC++æœ€ä½³å®è·µ**
- **æ ‡å‡†åº“å¼€å‘é£æ ¼**: ç±»ä¼¼äº `<vector>`, `<iostream>` çš„ç»„ç»‡æ–¹å¼
- **æ˜“äºç»´æŠ¤**: å¤´æ–‡ä»¶å’Œå®ç°åˆ†ç¦»ï¼Œä¾¿äºä»£ç é˜…è¯»å’Œç»´æŠ¤
- **å›¢é˜Ÿåä½œå‹å¥½**: æ¸…æ™°çš„ç»“æ„ä¾¿äºå›¢é˜Ÿæˆå‘˜ç†è§£é¡¹ç›®

### 4. **æ„å»ºç³»ç»Ÿä¼˜åŒ–**
- CMakeLists.txt ä½¿ç”¨ `target_include_directories` è®¾ç½®åŒ…å«è·¯å¾„
- æ”¯æŒç°ä»£CMakeæœ€ä½³å®è·µ

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### Include è·¯å¾„è®¾ç½®
```cmake
# CMakeLists.txt ä¸­çš„å…³é”®é…ç½®
include_directories(include)
target_include_directories(jietu-qt PRIVATE include)
```

### æºæ–‡ä»¶ä¸­çš„ Include è¯­å¥
```cpp
// æ­£ç¡®çš„includeæ–¹å¼
#include "jietu/ScreenshotApp.h"
#include "jietu/SystemTray.h"
```

## ğŸ“‹ C++ é¡¹ç›®æœ€ä½³å®è·µæ€»ç»“

1. **å¤´æ–‡ä»¶ä¸æºæ–‡ä»¶åˆ†ç¦»**: å°†æ¥å£å®šä¹‰å’Œå®ç°åˆ†å¼€
2. **ä½¿ç”¨å­ç›®å½•**: åœ¨includeä¸‹åˆ›å»ºé¡¹ç›®åå­ç›®å½•é¿å…å†²çª
3. **æ–‡æ¡£åˆ†ç±»**: å°†ä¸åŒç±»å‹çš„æ–‡æ¡£æ”¾åœ¨docsç›®å½•
4. **è„šæœ¬åˆ†ç±»**: å°†æ„å»ºå’Œæµ‹è¯•è„šæœ¬æ”¾åœ¨scriptsç›®å½•
5. **ç°ä»£CMake**: ä½¿ç”¨target-basedçš„CMakeå‘½ä»¤è€Œéå…¨å±€å‘½ä»¤

## ğŸš€ æ„å»ºé¡¹ç›®

```bash
# è¿›å…¥æ„å»ºç›®å½•
cd build

# é…ç½®é¡¹ç›®
cmake ..

# ç¼–è¯‘é¡¹ç›®
make -j$(nproc)

# è¿è¡Œåº”ç”¨
./jietu-qt.app/Contents/MacOS/jietu-qt
```

è¿™ç§ç›®å½•ç»“æ„é€‚ç”¨äºä¸­å°å‹C++é¡¹ç›®ï¼Œæ—¢ä¿æŒäº†ä»£ç çš„æ¸…æ™°ç»„ç»‡ï¼Œåˆç¬¦åˆç°ä»£C++å¼€å‘çš„æœ€ä½³å®è·µã€‚ 